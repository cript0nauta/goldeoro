<!DOCTYPE HTML>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
	<script src="/static/soccerstats/js/vendor/jquery-1.8.0.min.js"></script>
	<script type="text/javascript">
		jugadas = [[11588,0,null,75,"SM",true],[11588,0,75,null,null,null],[13357,0,75,77,null,null],[15249,0,77,72,null,null],[17512,0,72,75,null,null],[18890,0,75,69,null,null],[21465,0,69,74,null,null],[27187,0,74,67,null,null],[29644,0,67,70,null,null],[31608,0,70,72,null,null],[33104,0,72,74,null,null],[34861,0,74,72,null,null],[36004,0,72,75,null,null],[37080,0,75,74,null,null],[39538,0,74,71,null,null],[41151,0,71,77,null,null],[42009,0,77,76,null,null],[47923,0,76,null,"TL",false],[61686,0,null,25,"TL",true],[61686,0,25,null,null,null],[68663,0,25,28,null,null],[70256,0,28,77,null,null],[71848,0,77,76,null,null],[76240,0,76,null,"CO",false],[81001,0,null,31,"CO",true],[81001,0,31,null,null,null],[82184,0,31,null,"CO",false],[85978,0,null,74,"CO",true],[85978,0,74,null,null,null],[93480,0,74,23,null,null],[99684,0,23,33,null,null],[100714,0,33,30,null,null],[102241,0,30,33,null,null],[103839,0,33,30,null,null],[104834,0,30,33,null,null],[106505,0,33,73,null,null],[108684,0,73,72,null,null],[110326,0,72,74,null,null],[111553,0,74,75,null,null],[114079,0,75,72,null,null],[115358,0,72,74,null,null],[117099,0,74,75,null,null],[119583,0,75,69,null,null],[120861,0,69,73,null,null],[122130,0,73,75,null,null],[125895,0,75,73,null,null],[128449,0,73,70,null,null],[129740,0,70,73,null,null],[131128,0,73,74,null,null],[133234,0,74,73,null,null],[134566,0,73,75,null,null],[137840,0,75,74,null,null],[138520,0,74,73,null,null],[143901,0,73,23,null,null],[148450,0,23,24,null,null],[149895,0,24,26,null,null],[151844,0,26,30,null,null],[153414,0,30,28,null,null],[155576,0,28,24,null,null],[156606,0,24,28,null,null],[160539,0,28,23,null,null],[161360,0,23,24,null,null],[164685,0,24,74,null,null],[165693,0,74,24,null,null],[169039,0,24,25,null,null],[170403,0,25,30,null,null],[172694,0,30,33,null,null],[173641,0,33,30,null,null],[175280,0,30,29,null,null],[177818,0,29,24,null,null],[179175,0,24,31,null,null],[180536,0,31,24,null,null],[182518,0,24,29,null,null],[183709,0,29,28,null,null],[185824,0,28,30,null,null],[187896,0,30,26,null,null],[188816,0,26,27,null,null],[190413,0,27,26,null,null],[191745,0,26,27,null,null],[194444,0,27,30,null,null],[196320,0,30,29,null,null],[199521,0,29,24,null,null],[201708,0,24,31,null,null],[202968,0,31,32,null,null],[207934,0,32,74,null,null],[210658,0,74,null,"LA",false],[217293,0,null,25,"LA",true],[217293,0,25,null,null,null],[218562,0,25,null,"LA",false],[221111,0,null,71,"LA",true],[221111,0,71,null,null,null],[229445,0,71,70,null,null],[234059,0,70,31,null,null],[235306,0,31,69,null,null],[238193,0,69,74,null,null],[239363,0,74,75,null,null],[240316,0,75,74,null,null],[241459,0,74,75,null,null],[244117,0,75,71,null,null],[245718,0,71,75,null,null],[247103,0,75,77,null,null],[250595,0,77,73,null,null],[251608,0,73,74,null,null],[256391,0,74,23,null,null],[258266,0,23,24,null,null],[261014,0,24,29,null,null],[261944,0,29,28,null,null],[263478,0,28,30,null,null],[266631,0,30,27,null,null],[269723,0,27,25,null,null],[271083,0,25,29,null,null],[274609,0,29,70,null,null],[279311,0,70,74,null,null],[281382,0,74,75,null,null],[283086,0,75,73,null,null],[284972,0,73,75,null,null],[286016,0,75,73,null,null],[291051,0,73,68,null,null],[295333,0,68,76,null,null],[299489,0,76,31,null,null],[307277,0,31,24,null,null],[310403,0,24,28,null,null],[311519,0,28,30,null,null],[314209,0,30,75,null,null],[315083,0,75,30,null,null],[316834,0,30,32,null,null],[321229,0,32,33,null,null],[321816,0,33,30,null,null],[323131,0,30,24,null,null],[328606,0,24,31,null,null],[329060,0,31,32,null,null],[330219,0,32,29,null,null],[333265,0,29,75,null,null],[336135,0,75,76,null,null],[337591,0,76,72,null,null],[340081,0,72,74,null,null],[343791,0,74,71,null,null],[344509,0,71,70,null,null],[345449,0,70,74,null,null],[350163,0,74,24,null,null],[353641,0,24,28,null,null],[356659,0,28,26,null,null],[358445,0,26,30,null,null],[360089,0,30,26,null,null],[362085,0,26,24,null,null],[363547,0,24,74,null,null],[371027,0,74,67,null,null],[374157,0,67,70,null,null],[375113,0,70,67,null,null],[379336,0,67,69,null,null],[380391,0,69,72,null,null],[381412,0,72,73,null,null],[382274,0,73,75,null,null],[386227,0,75,72,null,null],[389914,0,72,29,null,null],[391198,0,29,23,null,null],[392695,0,23,76,null,null],[400977,0,76,27,null,null],[403927,0,27,23,null,null],[406508,0,23,26,null,null],[407808,0,26,23,null,null],[409397,0,23,24,null,null],[412274,0,24,28,null,null],[413868,0,28,30,null,null],[417192,0,30,24,null,null],[422395,0,24,32,null,null],[425180,0,32,31,null,null],[425601,0,31,null,null,null],[426062,0,31,32,null,null],[428403,0,32,28,null,null],[429657,0,28,31,null,null],[438035,0,31,33,null,null],[439359,0,33,null,"SM",false],[458799,0,null,76,"SM",true],[458799,0,76,null,null,null],[459841,0,76,77,null,null],[464515,0,77,74,null,null],[467298,0,74,72,null,null],[469243,0,72,73,null,null],[471942,0,73,75,null,null],[473984,0,75,76,null,null],[477821,0,76,null,null,null],[5819,2,null,32,"SM",true],[5819,2,32,null,null,null],[7669,2,32,31,null,null],[10384,2,31,28,null,null],[12441,2,28,26,null,null],[13846,2,26,27,null,null],[16046,2,27,26,null,null],[18346,2,26,27,null,null],[19003,2,27,26,null,null],[21682,2,26,29,null,null],[23185,2,29,27,null,null],[24525,2,27,33,null,null],[26091,2,33,29,null,null],[26892,2,29,32,null,null],[29081,2,32,33,null,null],[29910,2,33,32,null,null],[32132,2,32,30,null,null],[37454,2,30,31,null,null],[38785,2,31,24,null,null],[41731,2,24,31,null,null],[43831,2,31,24,null,null],[45514,2,24,28,null,null],[46308,2,28,30,null,null],[47677,2,30,24,null,null],[48618,2,24,31,null,null],[51402,2,31,24,null,null],[52957,2,24,28,null,null],[54135,2,28,29,null,null],[58071,2,29,33,null,null],[60239,2,33,26,null,null],[60849,2,26,27,null,null],[65072,2,27,33,null,null],[65947,2,33,29,null,null],[68080,2,29,30,null,null],[71958,2,30,24,null,null],[74394,2,24,23,null,null],[77765,2,23,24,null,null],[81431,2,24,31,null,null],[84941,2,31,30,null,null],[87757,2,30,24,null,null],[88371,2,24,25,null,null],[89663,2,25,26,null,null],[91185,2,26,27,null,null],[94244,2,27,29,null,null],[95810,2,29,33,null,null],[100012,2,33,69,null,null],[104528,2,69,73,null,null],[107462,2,73,77,null,null],[109110,2,77,68,null,null],[112176,2,68,73,null,null],[116613,2,73,77,null,null],[119265,2,77,75,null,null],[123362,2,75,29,null,null],[131433,2,29,33,null,null],[135232,2,33,27,null,null],[136065,2,27,29,null,null],[137682,2,29,31,null,null],[145938,2,31,24,null,null],[149329,2,24,77,null,null],[154058,2,77,30,null,null],[156298,2,30,32,null,null],[158535,2,32,29,null,null],[160669,2,29,30,null,null],[163876,2,30,null,"SM",false],[182807,2,null,76,"SM",true],[182807,2,76,null,null,null],[183535,2,76,77,null,null],[186747,2,77,72,null,null],[188250,2,72,68,null,null],[189043,2,68,72,null,null],[192033,2,72,25,null,null],[194069,2,25,77,null,null],[196608,2,77,32,null,null],[198871,2,32,23,null,null],[202501,2,23,24,null,null],[208188,2,24,31,null,null],[212093,2,31,29,null,null],[216746,2,29,27,null,null],[218667,2,27,33,null,null],[219484,2,33,30,null,null],[220589,2,30,33,null,null],[225735,2,33,30,null,null],[227543,2,30,29,null,null],[229148,2,29,31,null,null],[233616,2,31,32,null,null],[236219,2,32,67,null,null],[237562,2,67,32,null,null],[240206,2,32,29,null,null],[241316,2,29,null,"SM",false],[257155,2,null,76,"SM",true],[257155,2,76,null,null,null],[257783,2,76,77,null,null],[264783,2,77,69,null,null],[266256,2,69,68,null,null],[267715,2,68,72,null,null],[269058,2,72,75,null,null],[270828,2,75,77,null,null],[272247,2,77,75,null,null],[273704,2,75,76,null,null],[277560,2,76,29,null,null],[278482,2,29,31,null,null],[279917,2,31,29,null,null],[281374,2,29,32,null,null],[286189,2,32,31,null,null],[292068,2,31,67,null,null],[293500,2,67,null,"CO",false],[300110,2,null,29,"CO",true],[300110,2,29,null,null,null],[303317,2,29,25,null,null],[305593,2,25,67,null,null],[311132,2,67,73,null,null],[314525,2,73,33,null,null],[319975,2,33,null,null,null],[320725,2,33,33,null,null],[325434,2,33,75,null,null],[327789,2,75,77,null,null],[328598,2,77,76,null,null],[334623,2,76,27,null,null],[337375,2,27,24,null,null],[341890,2,24,27,null,null],[344545,2,27,24,null,null],[345952,2,24,27,null,null],[349586,2,27,24,null,null],[351443,2,24,27,null,null],[353280,2,27,24,null,null],[358041,2,24,31,null,null],[359765,2,31,26,null,null],[362549,2,26,31,null,null],[363624,2,31,24,null,null],[367130,2,24,31,null,null],[369014,2,31,32,null,null],[374242,2,32,69,null,null],[379992,2,69,30,null,null],[381296,2,30,73,null,null],[382654,2,73,75,null,null],[387722,2,75,67,null,null],[393176,2,67,28,null,null],[395715,2,28,29,null,null],[396431,2,29,28,null,null],[399775,2,28,72,null,null],[404435,2,72,75,null,null],[405684,2,75,77,null,null],[407432,2,77,73,null,null],[410969,2,73,23,null,null],[411784,2,23,68,null,null],[415174,2,68,76,null,null],[417152,2,76,23,null,null],[421463,2,23,33,null,null],[426423,2,33,null,null,null]];
		players = {"23":{"pk":23,"nombre":"Valdés","casaca":1,"equipo":0,"posesion":31243},"24":{"pk":24,"nombre":"Dani Alves","casaca":2,"equipo":0,"posesion":78006},"25":{"pk":25,"nombre":"Puyol","casaca":5,"equipo":0,"posesion":8328},"26":{"pk":26,"nombre":"Piqué","casaca":3,"equipo":0,"posesion":20583},"27":{"pk":27,"nombre":"Abidal","casaca":22,"equipo":0,"posesion":35449},"28":{"pk":28,"nombre":"Sergio Busquets","casaca":16,"equipo":0,"posesion":28231},"29":{"pk":29,"nombre":"Xavi","casaca":6,"equipo":0,"posesion":47940},"30":{"pk":30,"nombre":"Cesc Fábregas","casaca":4,"equipo":0,"posesion":48896},"31":{"pk":31,"nombre":"Iniesta","casaca":8,"equipo":0,"posesion":61975},"32":{"pk":32,"nombre":"Messi","casaca":10,"equipo":0,"posesion":39847},"33":{"pk":33,"nombre":"Villa","casaca":7,"equipo":0,"posesion":41678},"67":{"pk":67,"nombre":"Cech","casaca":1,"equipo":1,"posesion":23578},"68":{"pk":68,"nombre":"Bosingwa","casaca":17,"equipo":1,"posesion":12990},"69":{"pk":69,"nombre":"Ivanovich","casaca":2,"equipo":1,"posesion":19534},"70":{"pk":70,"nombre":"Terry","casaca":26,"equipo":1,"posesion":14467},"71":{"pk":71,"nombre":"Ashley Cole","casaca":3,"equipo":1,"posesion":3932},"72":{"pk":72,"nombre":"Mickel","casaca":12,"equipo":1,"posesion":27462},"73":{"pk":73,"nombre":"Ramires","casaca":7,"equipo":1,"posesion":41257},"74":{"pk":74,"nombre":"Mata","casaca":10,"equipo":1,"posesion":47277},"75":{"pk":75,"nombre":"Lampard","casaca":8,"equipo":1,"posesion":47982},"76":{"pk":76,"nombre":"Torres","casaca":9,"equipo":1,"posesion":39896},"77":{"pk":77,"nombre":"Drogba","casaca":11,"equipo":1,"posesion":38264}};
	</script>
	<script>
		equipos = ['Barcelona', 'Chelsea'];
		$(function(){
			for(i in players){players[i].pases=0; players[i].malos=0;}
			// Calcular la posesión por equipo
			pos = [0,0];
			for (i in players)
			{
				jugador = players[i];
				if(jugador.posesion)
				{
					pos[jugador.equipo] += jugador.posesion;
				}
			}
			local = (100 * pos[0]) / (pos[0] + pos[1]) + 1;
			visit = (100 * pos[1]) / (pos[0] + pos[1]);
			result = 'Posesión : Local: ' + parseInt(local) + '%; Visitante: ' + parseInt(visit) + '%';
			result = $('<p>').text(result);
			$('#resultados').append(result);

			// Calcular pases efectivos por equipo
			pases = [0,0]
			for (i in jugadas)
			{
				jugada = jugadas[i];
				if (jugada[2] && jugada[3])
				{
					if (players[jugada[2]].equipo == players[jugada[3]].equipo)
					{
						pases[players[jugada[2]].equipo] += 1;
						players[jugada[2]].pases += 1
					}else{
						players[jugada[2]].malos += 1
					}
				}
			}
			result = 'Pases: Local: ' + pases[0] + '; Visitante: ' + pases[1];
			result = $('<p>').text(result);
			$('#resultados').append(result);

			t = $('<table>').attr('border','1');
			tr = $('<tr>');
			$('<th>').text('Nombre').appendTo(tr);
			$('<th>').text('Equipo').appendTo(tr);
			$('<th>').text('Pases buenos').appendTo(tr);
			$('<th>').text('Pases malos').appendTo(tr);
			$('<th>').text('Efectividad').appendTo(tr);
			$('<th>').text('Posesión').appendTo(tr);
			tr.appendTo(t)
			for(i in players)
			{
				jugador = players[i];
				tr = $('<tr>');
				$('<td>').text(jugador.nombre).appendTo(tr);
				$('<td>').text(jugador.equipo === 0 ? equipos[0] : equipos[1]).appendTo(tr);
				$('<td>').text(jugador.pases).appendTo(tr);
				$('<td>').text(jugador.malos).appendTo(tr);
				$('<td>').text(parseInt((jugador.pases * 100)  / (jugador.malos + jugador.pases)) + '%').appendTo(tr);
				$('<td>').text(( (100 * jugador.posesion) / (pos[0] + pos[1])  ) + '%').appendTo(tr);
				tr.appendTo(t);
			}
			t.appendTo($('#resultados'));
		})
	</script>
</head>
<body>
	<div id="resultados"></div>
</html>
